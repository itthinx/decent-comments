(()=>{"use strict";var e={338:(e,t,n)=>{var r=n(795);t.H=r.createRoot,r.hydrateRoot},609:e=>{e.exports=window.React},723:e=>{e.exports=window.wp.i18n},727:(e,t,n)=>{n.d(t,{PU:()=>i,p4:()=>m,vB:()=>s});var r=n(609);const o=window.wp.apiFetch;var a=n.n(o),c=n(723);function s(e){return JSON.parse(e||"{}")}async function m(e,t){const n=function(e){const t={number:e.number||5,offset:e.offset||0,order:e.order||"asc",orderby:e.orderby||"comment_author_email",...e.post_id&&{post_id:e.post_id},...e.post__in&&{post__in:e.post__in},...e.post__not_in&&{post__not_in:e.post__not_in},...e.post_type&&{post_type:e.post_type},...e.taxonomy&&{taxonomy:e.taxonomy},...e.terms&&{terms:e.terms},...e.term_ids&&{term_ids:e.term_ids},...e.exclude_post_author&&{exclude_post_author:e.exclude_post_author},...e.pingback&&{pingback:e.pingback},...e.trackback&&{trackback:e.trackback},...e.avatar_size&&{avatar_size:e.avatar_size}};return new URLSearchParams(t)}(e);return await a()({path:`decent-comments/v1/comments?${n.toString()}`,method:"GET",headers:{"X-WP-Nonce":t}})}const i=({comments:e,attributes:t})=>(0,r.createElement)("div",{className:"decent-comments"},t.title?.length>0&&(0,r.createElement)("div",{className:"decent-comments-heading gamma widget-title"},_(t.title)),(0,r.createElement)("ul",{className:"decent-comments"},0===e.length?(0,r.createElement)("li",null,(0,c.__)("No Comments","decent-comments")):e.filter(e=>!t.exclude_post_author||e.author_email!==e.post_author).map(e=>(0,r.createElement)(l,{key:e.id,comment:e,attributes:t})))),l=({comment:e,attributes:t})=>{const n=t.show_author?t.link_authors&&e.author_url?(0,r.createElement)("a",{href:_(e.author_url),className:"comment-author-link"},_(e.author)):_(e.author):null,o=t.show_date?`${new Date(e.date).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour12:!0})} ${(0,c.__)("at","decent-comments")} ${new Date(e.date).toLocaleTimeString()}`:null;let a="",s="";e.author_url&&(a='<a href="'+e.author_url+'" rel="external">',s="</a>");const m=t.show_avatar&&e.avatar?(0,r.createElement)("span",{className:"comment-avatar",dangerouslySetInnerHTML:{__html:a+e.avatar+s}}):null,i=t.show_comment?function(e,t){let n=t.show_excerpt?e:"";if(t.strip_tags&&(n=n.replace(/(<([^>]+)>)/gi,"")),t.max_excerpt_words>0){const e=n.split(" ");n=e.slice(0,t.max_excerpt_words).join(" ")+(e.length>t.max_excerpt_words?_(t.ellipsis):"")}return t.max_excerpt_characters>0&&(n=n.substring(0,t.max_excerpt_characters)+(n.length>t.max_excerpt_characters?_(t.ellipsis):"")),_(n)}(e.content,t):"",l=t.show_link&&e.comment_link?(0,r.createElement)("span",{className:"comment-link"},(0,c.__)("on","decent-comments")," ",(0,r.createElement)("a",{href:_(e.comment_link||"#"),className:"comment-post-title"},_(e.post_title||""))):null;return(0,r.createElement)("li",{key:e.id,className:"comment"},m,(0,r.createElement)("div",{className:"comment-content"},n&&(0,r.createElement)("span",{className:"comment-author"},n," "),o&&(0,r.createElement)("span",{className:"comment-date"},o," "),l," ",i&&(0,r.createElement)("span",{className:"comment-excerpt"},i)))};function _(e){const t=document.createElement("div");return t.textContent=e||"",t.innerHTML}},795:e=>{e.exports=window.ReactDOM}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=n(609),o=n(338),a=n(723),c=n(727);let s=null,m=null;window.decentCommentsView&&(window.decentCommentsView.current_post_id&&(s=window.decentCommentsView.current_post_id),window.decentCommentsView.current_term_id&&(m=window.decentCommentsView.current_term_id)),document.addEventListener("DOMContentLoaded",async()=>{const e=document.querySelectorAll(".wp-block-itthinx-decent-comments");for(const t of e)try{const e=(0,c.vB)(t.dataset.attributes);"[current]"!==e.post_id&&"{current}"!==e.post_id||s&&(e.post_id=s),"[current]"!==e.terms&&"{current}"!==e.terms||m&&(e.term_ids=m);const n=window.decentCommentsView?.nonce||"",a=await(0,c.p4)(e,n);(0,o.H)(t).render((0,r.createElement)(c.PU,{comments:a.comments||[],attributes:e}))}catch(e){(0,o.H)(t).render((0,r.createElement)("p",{className:"text-red-500"},(0,a.__)("Error loading comments","decent-comments"))),console.error("Decent Comments Error:",e)}})})();