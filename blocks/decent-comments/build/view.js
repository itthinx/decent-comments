(()=>{"use strict";var t={723:t=>{t.exports=window.wp.i18n},727:(t,e,n)=>{n.d(e,{p4:()=>a,vB:()=>c,Le:()=>i});const o=window.wp.apiFetch;var r=n.n(o),s=n(723);function c(t){return JSON.parse(t||"{}")}async function a(t,e){const n=function(t){const e={number:t.number||5,offset:t.offset||0,order:t.order||"asc",orderby:t.orderby||"comment_author_email",...t.post_id&&{post_id:t.post_id},...t.post__in&&{post__in:t.post__in},...t.post__not_in&&{post__not_in:t.post__not_in},...t.post_type&&{post_type:t.post_type},...t.taxonomy&&{taxonomy:t.taxonomy},...t.terms&&{terms:t.terms},...t.term_ids&&{term_ids:t.term_ids},...t.exclude_post_author&&{exclude_post_author:t.exclude_post_author},...t.pingback&&{pingback:t.pingback},...t.trackback&&{trackback:t.trackback}};return new URLSearchParams(e)}(t);return await r()({path:`decent-comments/v1/comments?${n.toString()}`,method:"GET",headers:{"X-WP-Nonce":e}})}function i(t,e){let n='<div class="decent-comments">';return e.title?.length>0&&(n+=`<div class="decent-comments-heading gamma widget-title">${m(e.title)}</div>`),n+='<ul class="decent-comments">',0===t.length?n+=`<li>${(0,s.__)("No Comments","decent-comments")}</li>`:n+=t.filter((t=>!e.exclude_post_author||t.author_email!==t.post_author)).map((t=>function(t,e){const n=e.show_author?e.link_authors&&t.author_url?`<a href="${m(t.author_url)}" class="comment-author-link">${m(t.author)}</a>`:t.author:"",o=e.show_date?`${new Date(t.date).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour12:!0})} ${(0,s.__)("at","decent-comments")} ${new Date(t.date).toLocaleTimeString()}`:"",r=e.show_avatar&&t.avatar?`<img src="${m(t.avatar)}" alt="${m(n)}" width="${e.avatar_size||48}" height="${e.avatar_size||48}" />`:"",c=e.show_comment?function(t,e){let n=e.show_excerpt?t:"";if(e.strip_tags&&(n=n.replace(/(<([^>]+)>)/gi,"")),e.max_excerpt_words>0){const t=n.split(" ");n=t.slice(0,e.max_excerpt_words).join(" ")+(t.length>e.max_excerpt_words?m(e.ellipsis):"")}return e.max_excerpt_characters>0&&(n=n.substring(0,e.max_excerpt_characters)+(n.length>e.max_excerpt_characters?m(e.ellipsis):"")),m(n)}(t.content,e):"";return`\n\t\t<li class="comment">\n\t\t\t${r}\n\t\t\t<div class="comment-content">\n\t\t\t\t${n?`<span class="comment-author">${n}</span>`:""}\n\t\t\t\t${o?`<span class="comment-date">${o}</span>`:""}\n\t\t\t\t${e.show_link&&t.comment_link?`${(0,s.__)("on","decent-comments")} <a href="${m(t.comment_link||"#")}" class="comment-post-title">${m(t.post_title||"")}</a>`:""}\n\t\t\t\t<span class="comment-excerpt">${c}</span>\n\t\t\t</div>\n\t\t</li>`}(t,e))).join(""),n+="</ul></div>",n}function m(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o=n(723),r=n(727);let s=null,c=null;window.decentCommentsView&&(window.decentCommentsView.current_post_id&&(s=window.decentCommentsView.current_post_id),window.decentCommentsView.current_term_id&&(c=window.decentCommentsView.current_term_id)),document.addEventListener("DOMContentLoaded",(async()=>{const t=document.querySelectorAll(".wp-block-itthinx-decent-comments");for(const e of t)try{const t=(0,r.vB)(e.dataset.attributes);"[current]"!==t.post_id&&"{current}"!==t.post_id||s&&(t.post_id=s),"[current]"!==t.terms&&"{current}"!==t.terms||c&&(t.term_ids=c);const n=window.decentCommentsView?.nonce||"",o=await(0,r.p4)(t,n),a=(0,r.Le)(o.comments,t);e.innerHTML=a}catch(t){e.innerHTML=`<p>${(0,o.__)("Error loading comments","decent-comments")}</p>`,console.error("Decent Comments Error:",t)}}))})();